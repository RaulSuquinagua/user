{"version":3,"sources":["./src/app/tab2/tab2.page.html","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <!--\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  -->\\r\\n    <ion-title>\\r\\n      CARRITO\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n  <div class=\\\"not-found\\\" *ngIf=\\\"total == 0\\\">\\r\\n    <img src=\\\"./assets/images/nodata2.png\\\" />\\r\\n    <p>{{ 'NO_ITEMS_FOUND' | translate }}</p>\\r\\n    <ion-button expand=\\\"block\\\"  routerLink=\\\"/tabs/tab1\\\">Regresar al inicio</ion-button>\\r\\n  </div>\\r\\n\\r\\n  <ion-list lines=\\\"none\\\">\\r\\n    <ion-item *ngFor=\\\"let item of cart; let i = index\\\">\\r\\n      <ion-thumbnail slot=\\\"start\\\">\\r\\n        <img src=\\\"{{item.photoURL}}\\\" style=\\\"border-radius: 8px;\\\" />\\r\\n      </ion-thumbnail>\\r\\n      <ion-label style=\\\" text-align: center;\\\">\\r\\n        <ion-text>\\r\\n          <h3>{{item.name}}</h3>\\r\\n        </ion-text>\\r\\n        <ion-button class=\\\"cart-button\\\" color=\\\"primary\\\" fill=\\\"solid\\\" size=\\\"small\\\" (click)=\\\"increase(i)\\\">+</ion-button>\\r\\n        <ion-button fill=\\\"clear\\\" color=\\\"secondary\\\">{{item.qty}}</ion-button>\\r\\n        <ion-button class=\\\"cart-button\\\" color=\\\"primary\\\" fill=\\\"solid\\\" size=\\\"small\\\" (click)=\\\"decrease(i)\\\">-</ion-button>\\r\\n      </ion-label>\\r\\n      \\r\\n      <ion-text slot=\\\"end\\\">\\r\\n        {{currency}} {{item.qty * item.price}}\\r\\n      </ion-text>\\r\\n    \\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n<ion-footer *ngIf=\\\"total != 0\\\" class=\\\"ion-padding\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n      \\r\\n      <ion-item>\\r\\n        <ion-label>\\r\\n          Total\\r\\n        </ion-label>\\r\\n        <ion-text slot=\\\"end\\\" class=\\\"final-price\\\">\\r\\n          {{currency}} {{finalPrice}}\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n    \\r\\n      <ion-item>\\r\\n        <ion-text class=\\\"deliberyTo\\\">\\r\\n          {{ 'DELIVER_TO' | translate }}\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <label *ngIf=\\\"flag == false\\\">\\r\\n          Cargando direcciones ...\\r\\n        </label>\\r\\n      </ion-item>\\r\\n          <!--\\r\\n      <ion-item *ngFor=\\\"let address of addresses\\\">\\r\\n        <ion-label>\\r\\n          <ion-text>\\r\\n            <h3>{{address.tag}}</h3>\\r\\n          </ion-text>\\r\\n          <ion-text>\\r\\n            <p>{{address.address}}</p>\\r\\n          </ion-text>\\r\\n        </ion-label>\\r\\n        <ion-button fill=\\\"clear\\\" slot=\\\"end\\\" routerLink=\\\"/address/edit/{{address.key}}\\\">\\r\\n          <ion-icon name=\\\"create\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n        \\r\\n        <ion-item *ngIf=\\\"addresses.length == 0\\\">\\r\\n          <ion-label>\\r\\n            <ion-text>\\r\\n              <h3>{{address.tag}}</h3>\\r\\n            </ion-text>\\r\\n            <ion-text>\\r\\n              <p>{{address.address}}</p>\\r\\n            </ion-text>\\r\\n          </ion-label>\\r\\n          <ion-button fill=\\\"clear\\\"  slot=\\\"end\\\" routerLink=\\\"/addaddress\\\">\\r\\n            Select</ion-button>\\r\\n        </ion-item>\\r\\n      -->\\r\\n          \\r\\n          \\r\\n        \\r\\n      \\r\\n      \\r\\n    </ion-list>\\r\\n\\r\\n    <!--*ngIf=\\\"addresses.length != 0\\\"-->\\r\\n    <div>\\r\\n      <ion-select  *ngIf=\\\"flag == true\\\" slot=\\\"end\\\"  [(ngModel)]=\\\"addressIndex\\\" (ionChange)=\\\"updateAddress()\\\"\\r\\n      placeholder=\\\"select\\\">\\r\\n      <ion-select-option *ngFor=\\\"let address of addresses; let i=index\\\" value=\\\"{{i}}\\\">{{address.tag}}\\r\\n      </ion-select-option>\\r\\n    </ion-select>\\r\\n    </div>\\r\\n    \\r\\n  \\r\\n  \\r\\n    <p style=\\\"font-size: 12px;\\\" *ngIf=\\\"address.address != undefined\\\">{{ address.address }}</p>\\r\\n    \\r\\n    <ion-button fill=\\\"solid\\\" *ngIf=\\\"!isSubscribe\\\" expand=\\\"block\\\" (click)=\\\"checkout() \\\">\\r\\n      {{ 'CHECKOUT' | translate }}\\r\\n    </ion-button>\\r\\n  \\r\\n  </ion-toolbar>\\r\\n</ion-footer>\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    RouterModule.forChild([{ path: '', component: Tab2Page }])\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","module.exports = \".checkout {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-direction: row;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  padding: 4px 16px;\\n}\\n\\n.cart-button {\\n  height: 24px !important;\\n  width: 24px !important;\\n  font-size: 12px;\\n  border-radius: 40px;\\n}\\n\\n.deliberyTo {\\n  font-size: 16px;\\n  font-weight: 700;\\n}\\n\\n.final-price {\\n  font-size: 20px;\\n  font-weight: 700;\\n}\\n\\n.footer-md:before {\\n  background: none;\\n}\\n\\n/*\\n.list-dir{\\n    padding-block: 10px;\\n}*/\\n\\nion-title {\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  text-align: center;\\n  color: #3880ff;\\n  font-size: x-large;\\n  background-color: #facd2a;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi9FOlxcUFJPSkVDVFxcU2hvcHBpbiBBcHBcXHNob3BwaW5nXFxkb3dubG9hZGZpbGUtMlxcaWZzci0xLjAuMVxcdXNlci9zcmNcXGFwcFxcdGFiMlxcdGFiMi5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw4QkFBQTtFQUFBLDZCQUFBO1VBQUEsbUJBQUE7RUFDQSx5QkFBQTtVQUFBLDhCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSx1QkFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREVBO0VBQ0ksZ0JBQUE7QUNDSjs7QURDQTs7O0VBQUE7O0FBSUE7RUFDSSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jaGVja291dHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDRweCAxNnB4O1xyXG59XHJcblxyXG4uY2FydC1idXR0b257XHJcbiAgICBoZWlnaHQ6IDI0cHggIWltcG9ydGFudDtcclxuICAgIHdpZHRoOiAyNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0MHB4O1xyXG59XHJcblxyXG4uZGVsaWJlcnlUb3tcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbn1cclxuXHJcbi5maW5hbC1wcmljZXtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbn1cclxuXHJcbi5mb290ZXItbWQ6YmVmb3Jle1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxufVxyXG4vKlxyXG4ubGlzdC1kaXJ7XHJcbiAgICBwYWRkaW5nLWJsb2NrOiAxMHB4O1xyXG59Ki9cclxuaW9uLXRpdGxle1xyXG4gICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiAjMzg4MGZmO1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZhY2QyYTtcclxuICBcclxuICB9XHJcblxyXG4iLCIuY2hlY2tvdXQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDRweCAxNnB4O1xufVxuXG4uY2FydC1idXR0b24ge1xuICBoZWlnaHQ6IDI0cHggIWltcG9ydGFudDtcbiAgd2lkdGg6IDI0cHggIWltcG9ydGFudDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBib3JkZXItcmFkaXVzOiA0MHB4O1xufVxuXG4uZGVsaWJlcnlUbyB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbn1cblxuLmZpbmFsLXByaWNlIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBmb250LXdlaWdodDogNzAwO1xufVxuXG4uZm9vdGVyLW1kOmJlZm9yZSB7XG4gIGJhY2tncm91bmQ6IG5vbmU7XG59XG5cbi8qXG4ubGlzdC1kaXJ7XG4gICAgcGFkZGluZy1ibG9jazogMTBweDtcbn0qL1xuaW9uLXRpdGxlIHtcbiAgcGFkZGluZy10b3A6IDIwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjMzg4MGZmO1xuICBmb250LXNpemU6IHgtbGFyZ2U7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWNkMmE7XG59Il19 */\"","import { Component, NgZone, ChangeDetectorRef } from '@angular/core';\r\nimport { CartService } from '../services/cart.service';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { environment } from '../../environments/environment.prod'\r\nimport { AlertController } from '@ionic/angular';\r\nimport { CommonService } from '../services/common.service';\r\nimport { take } from 'rxjs/operators';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-tab2',\r\n  templateUrl: 'tab2.page.html',\r\n  styleUrls: ['tab2.page.scss']\r\n})\r\nexport class Tab2Page {\r\n  //maps\r\n  address2: any = {};\r\n  key: any = '';\r\n  isEdit = false;\r\n  map: any;\r\n  marker: any;\r\n  lat: any;\r\n  lng: any;\r\n  googleAutocomplete: any;\r\n  //cart\r\n  flag = false;\r\n  total = 0;\r\n  currentAddress: any = {};\r\n  currentName: '';\r\n  currentMobile: '';\r\n  cart = [];\r\n  finalPrice = 0;\r\n  addresses: any = [];\r\n  addressIndex = 0;\r\n  address: any = {};\r\n  currency: any = '';\r\n  today = new Date().toISOString().substring(0, 10);\r\n  isSubscribe = false;\r\n  order: any = {};\r\n  numbers = Array(30).fill(0).map((x, i) => i + 1);\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private afdb: AngularFireDatabase,\r\n    private afAuth: AngularFireAuth,\r\n    private zone: NgZone,\r\n    private alertCtrl: AlertController,\r\n    private common: CommonService,\r\n    private geolocation: Geolocation,\r\n    private route: ActivatedRoute,\r\n    private chRef: ChangeDetectorRef,\r\n\r\n  ) {\r\n\r\n    this.afdb.list('users/' + this.afAuth.auth.currentUser.uid).snapshotChanges().subscribe((data: any) => {\r\n      let tmp = [];\r\n      data.forEach(c => tmp.push(c.payload.val()));\r\n      this.currentName = tmp[tmp.length-4];\r\n      this.currentMobile = tmp[tmp.length-5];\r\n      console.log(\"name\");\r\n      console.log(this.currentName);\r\n\r\n      this.key = this.route.snapshot.paramMap.get('id');\r\n      console.log(this.key);\r\n      if (this.key != '' && this.key != null) {\r\n        this.isEdit = true;\r\n        this.getAddress();\r\n      }\r\n      else {\r\n        this.geolocation.getCurrentPosition().then((resp) => {\r\n          this.lat = resp.coords.latitude;\r\n          this.lng = resp.coords.longitude;\r\n          this.loadMap();\r\n        }).catch((error) => {\r\n          //this.common.showToast(\"Error de localización\");\r\n          console.log('Error getting location', error);\r\n        });\r\n      }\r\n  \r\n      this.getAddress();\r\n      \r\n      \r\n    });\r\n\r\n\r\n    \r\n    this.currency = environment.currency;\r\n    console.log(this.today);\r\n\r\n    this.cartService.calculateTotal().subscribe(data => {\r\n\r\n      this.zone.run(() => {\r\n        console.log(this.finalPrice);\r\n        this.finalPrice = data.finalPrice;\r\n        console.log(this.finalPrice);\r\n      })\r\n    })\r\n    \r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  ionViewWillEnter() {\r\n\r\n    this.cart = this.cartService.get();\r\n    this.total = this.cart.length;\r\n\r\n    this.cartService.calculateTotal().subscribe(data => {\r\n      this.finalPrice = data.finalPrice;\r\n      this.total = data.totalQty;\r\n    });\r\n  }\r\n\r\n  swapMethod() {\r\n\r\n    this.isSubscribe = !this.isSubscribe;\r\n    console.log(this.isSubscribe);\r\n  }\r\n\r\n  increase(index) {\r\n    this.cartService.increase(index);\r\n  }\r\n\r\n  decrease(index) {\r\n    this.cartService.decrease(index);\r\n  }\r\n\r\n  getAddress() {\r\n    this.afdb.list('users/' + this.afAuth.auth.currentUser.uid + '/address')\r\n      .snapshotChanges().subscribe((data: any) => {\r\n        this.addresses = [];\r\n        data.forEach(address => this.addresses.push({ key: address.key, ...address.payload.val() }));\r\n      });\r\n  }\r\n\r\n  updateAddress() { \r\n    \r\n    //this.addresses = [];\r\n\r\n   \r\n\r\n\r\n    console.log(this.addresses);\r\n    \r\n    if (this.addresses[this.addressIndex] != undefined)\r\n      this.address = this.addresses[this.addressIndex]\r\n  }\r\n\r\n  checkout() {\r\n    //this.address = this.addresses[0];\r\n    console.log(this.address);\r\n    if (Object.keys(this.address).length != 0) {\r\n      this.alertCtrl.create({\r\n        message: '¿Esta seguro de ordenar?',\r\n        buttons: [\r\n          { text: 'Confirmar', handler: () => this.assignToDriver() },\r\n          { text: 'Cancelar' },\r\n        ]\r\n      }).then(r => r.present());\r\n    }\r\n    else {\r\n      this.alertCtrl.create({ message: \"Por favor escoja una dirección\" }).then(r => r.present());\r\n    }\r\n  }\r\n\r\n  assignToDriver() {\r\n    this.common.showLoader();\r\n\r\n    this.afdb.list('drivers', ref => ref.orderByChild(\"pincodes/\" + this.address.pin).equalTo(true))\r\n      .snapshotChanges().pipe(take(1)).subscribe((drivers: any) => {\r\n        console.log(drivers);\r\n        let driverId = '';\r\n\r\n        if (drivers != null && drivers != undefined && drivers.length != 0)\r\n          driverId = drivers[0].key\r\n        else\r\n          driverId = '';\r\n\r\n        console.log(driverId);\r\n\r\n\r\n        \r\n\r\n        let orderInput = {};\r\n\r\n\r\n        orderInput = {\r\n          createdAt: new Date().getTime(),\r\n          userId: this.afAuth.auth.currentUser.uid,\r\n          cart: this.cart,\r\n          finalPrice: this.finalPrice,\r\n          orderStatus: 'ordered',\r\n          address: this.address,\r\n          driverId: driverId,\r\n          userName: this.currentName,\r\n        }\r\n\r\n\r\n        this.afdb.list('orders').push(orderInput).then(() => {\r\n          this.common.hideLoader();\r\n\r\n          this.cartService.clear();\r\n          this.cart = [];\r\n          this.total = 0;\r\n          this.currentName = '';\r\n          this.cartService.calculateTotal();\r\n          \r\n\r\n          this.common.showToast(\"Ordenado correctamente\");\r\n        }).catch(err => {\r\n          console.log(err);\r\n          this.common.hideLoader();\r\n          this.common.showToast(\"Algo ocurrio mal\");\r\n        })\r\n\r\n      })\r\n  }\r\n\r\n  loadMap() {\r\n\r\n    let latLng = new google.maps.LatLng(this.lat, this.lng);\r\n    // get center's address\r\n    this.findPlace(latLng);\r\n\r\n    this.map.addListener('center_changed', (event) => {\r\n      let center = this.map.getCenter();\r\n      this.findPlace(center);\r\n    })\r\n  }\r\n\r\n\r\n  // find address by LatLng\r\n  findPlace(latLng) {\r\n    let geocoder = new google.maps.Geocoder();\r\n    geocoder.geocode({ 'latLng': latLng }, (results, status) => {\r\n      if (status == google.maps.GeocoderStatus.OK) {\r\n        console.log(results);\r\n        this.address2.address = results[0].formatted_address;\r\n\r\n        results[0].address_components.forEach(data => {\r\n          if (data.types[0] == \"postal_code\") {\r\n            this.address2.pin = data.long_name;\r\n          }\r\n        })\r\n\r\n        this.address2.lat = this.lat;\r\n        this.address2.lng = this.lng;\r\n        this.address2.pin = \"0102\";\r\n        this.address2.tag = \"Dir. actual\";\r\n        this.address2.landmark = \"habitual\";\r\n        this.address2.mobile = this.currentMobile;\r\n\r\n        this.addresses.push(this.address2);\r\n        this.flag = true;\r\n        console.log(this.address2.tag);\r\n        \r\n        this.chRef.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n"],"sourceRoot":""}