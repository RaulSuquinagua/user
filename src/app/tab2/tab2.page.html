<ion-header>
  <ion-toolbar>
    <!--
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  -->
    <ion-title>
      CARRITO
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="not-found" *ngIf="total == 0">
    <img src="./assets/images/nodata2.png" />
    <p>{{ 'NO_ITEMS_FOUND' | translate }}</p>
    <ion-button expand="block"  routerLink="/tabs/tab1">Regresar al inicio</ion-button>
  </div>

  <ion-list lines="none">
    <ion-item *ngFor="let item of cart; let i = index">
      <ion-thumbnail slot="start">
        <img src="{{item.photoURL}}" style="border-radius: 8px;" />
      </ion-thumbnail>
      <ion-label style=" text-align: center;">
        <ion-text>
          <h3>{{item.name}}</h3>
        </ion-text>
        <ion-button class="cart-button" color="primary" fill="solid" size="small" (click)="increase(i)">+</ion-button>
        <ion-button fill="clear" color="secondary">{{item.qty}}</ion-button>
        <ion-button class="cart-button" color="primary" fill="solid" size="small" (click)="decrease(i)">-</ion-button>
      </ion-label>
      
      <ion-text slot="end">
        {{currency}} {{item.qty * item.price}}
      </ion-text>
    
    </ion-item>
  </ion-list>
</ion-content>
<ion-footer *ngIf="total != 0" class="ion-padding">
  <ion-toolbar>
    <ion-list lines="none">
      
      <ion-item>
        <ion-label>
          Total
        </ion-label>
        <ion-text slot="end" class="final-price">
          {{currency}} {{finalPrice}}
        </ion-text>
      </ion-item>
    <!--
      <ion-item>
        <ion-text class="deliberyTo">
          {{ 'DELIVER_TO' | translate }}
        </ion-text>
      </ion-item>

      <ion-item>
        <label *ngIf="flag == false">
          Cargando direcciones ...
        </label>
      </ion-item>
          
      <ion-item *ngFor="let address of addresses">
        <ion-label>
          <ion-text>
            <h3>{{address.tag}}</h3>
          </ion-text>
          <ion-text>
            <p>{{address.address}}</p>
          </ion-text>
        </ion-label>
        <ion-button fill="clear" slot="end" routerLink="/address/edit/{{address.key}}">
          <ion-icon name="create"></ion-icon>
        </ion-button>
      </ion-item>
        
        <ion-item *ngIf="addresses.length == 0">
          <ion-label>
            <ion-text>
              <h3>{{address.tag}}</h3>
            </ion-text>
            <ion-text>
              <p>{{address.address}}</p>
            </ion-text>
          </ion-label>
          <ion-button fill="clear"  slot="end" routerLink="/addaddress">
            Select</ion-button>
        </ion-item>
      -->
          
          
        
      
      
    </ion-list>

    <!--*ngIf="addresses.length != 0"-->
    <div>
      <ion-select  *ngIf="flag == true" slot="end"  [(ngModel)]="addressIndex" (ionChange)="updateAddress()"
      placeholder="select">
      <ion-select-option *ngFor="let address of addresses; let i=index" value="{{i}}">{{address.tag}}
      </ion-select-option>
    </ion-select>
    </div>
    
  
  
    <p style="font-size: 12px;" *ngIf="address.address != undefined">{{ address.address }}</p>
    
    <ion-button fill="solid" *ngIf="!isSubscribe" expand="block" (click)="checkout() ">
      {{ 'CHECKOUT' | translate }}
    </ion-button>
  
  </ion-toolbar>
</ion-footer>