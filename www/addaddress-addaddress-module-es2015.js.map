{"version":3,"sources":["./src/app/addaddress/addaddress.page.html","./src/app/addaddress/addaddress.module.ts","./src/app/addaddress/addaddress.page.scss","./src/app/addaddress/addaddress.page.ts"],"names":[],"mappings":"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","file":"addaddress-addaddress-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title *ngIf=\\\"!isEdit\\\">{{ 'ADD' | translate }} {{ 'ADDRESS' | translate }}</ion-title>\\n    <ion-title *ngIf=\\\"isEdit\\\">{{ 'UPDATE' | translate }} {{ 'ADDRESS' | translate }}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button *ngIf=\\\"isEdit\\\" expand=\\\"block\\\" color=\\\"danger\\\" fill=\\\"clear\\\" (click)=\\\"delete()\\\">\\n        {{ 'DELETE' | translate }}\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div #map id=\\\"map\\\"></div>\\n  <ion-list lines=\\\"none\\\">\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{ 'TAG' | translate }}</ion-label>\\n      <ion-input type=\\\"text\\\" placeholder=\\\"Hogar, Oficina\\\" [(ngModel)]=\\\"address.tag\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{ 'ADDRESS' | translate }}</ion-label>\\n      <ion-textarea type=\\\"text\\\" [(ngModel)]=\\\"address.address\\\"></ion-textarea>\\n    </ion-item>\\n    <!--\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{ 'PINCODE' | translate }}</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"address.pin\\\"></ion-input>\\n    </ion-item>\\n  -->\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{ 'LANDMARK' | translate }}</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"address.landmark\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{ 'MOBILE' | translate }}</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"address.mobile\\\"></ion-input>\\n    </ion-item>\\n  </ion-list>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-button *ngIf=\\\"!isEdit\\\" expand=\\\"block\\\" (click)=\\\"add()\\\">{{ 'ADD' | translate }}</ion-button>\\n    <ion-button *ngIf=\\\"isEdit\\\" expand=\\\"block\\\" (click)=\\\"update()\\\">{{ 'UPDATE' | translate }}</ion-button>\\n  </div>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddaddressPage } from './addaddress.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddaddressPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AddaddressPage]\n})\nexport class AddaddressPageModule {}\n","module.exports = \"#map {\\n  height: 300px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRkYWRkcmVzcy9FOlxcUFJPSkVDVFxcU2hvcHBpbiBBcHBcXHNob3BwaW5nXFxkb3dubG9hZGZpbGUtMlxcaWZzci0xLjAuMVxcdXNlci9zcmNcXGFwcFxcYWRkYWRkcmVzc1xcYWRkYWRkcmVzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2FkZGFkZHJlc3MvYWRkYWRkcmVzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9hZGRhZGRyZXNzL2FkZGFkZHJlc3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcCB7XG4gICAgaGVpZ2h0OiAzMDBweDtcbn0iLCIjbWFwIHtcbiAgaGVpZ2h0OiAzMDBweDtcbn0iXX0= */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { CommonService } from '../services/common.service';\r\nimport { take } from 'rxjs/operators';\r\n\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-addaddress',\r\n  templateUrl: './addaddress.page.html',\r\n  styleUrls: ['./addaddress.page.scss'],\r\n})\r\n\r\nexport class AddaddressPage implements OnInit {\r\n  address: any = {};\r\n  key: any = '';\r\n  isEdit = false;\r\n  map: any;\r\n  marker: any;\r\n  lat: any;\r\n  lng: any;\r\n  googleAutocomplete: any;\r\n\r\n  constructor(\r\n    private afdb: AngularFireDatabase,\r\n    private afAuth: AngularFireAuth,\r\n    private route: ActivatedRoute,\r\n    private geolocation: Geolocation,\r\n    private chRef: ChangeDetectorRef,\r\n    private common: CommonService\r\n  ) {\r\n    this.key = this.route.snapshot.paramMap.get('id');\r\n    console.log(this.key);\r\n    if (this.key != '' && this.key != null) {\r\n      this.isEdit = true;\r\n      this.getAddress();\r\n    }\r\n    else {\r\n      this.geolocation.getCurrentPosition().then((resp) => {\r\n        this.lat = resp.coords.latitude;\r\n        this.lng = resp.coords.longitude;\r\n        this.loadMap();\r\n      }).catch((error) => {\r\n        this.common.showToast(\"Error de localización\");\r\n        console.log('Error getting location', error);\r\n      });\r\n    }\r\n  }\r\n\r\n  getAddress() {\r\n    this.afdb.object('users/' + this.afAuth.auth.currentUser.uid + '/address/' + this.key)\r\n      .snapshotChanges().subscribe((data) => {\r\n        this.address = data.payload.val();\r\n        this.lat = this.address.lat;\r\n        this.lng = this.address.lng;\r\n        this.loadMap();\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  add() {\r\n    this.address.pin = \"0102\";\r\n    console.log(this.address.pin);\r\n    this.afdb.list('settings/pincodes', ref => ref.orderByKey().equalTo(this.address.pin))\r\n      .snapshotChanges().pipe(take(1)).subscribe((data) => {\r\n        console.log(data);\r\n        if (data.length == 0) {\r\n          this.common.showToast(\"Servicio no disponible en esta área\");\r\n        }\r\n        else {\r\n          this.afdb.list('users/' + this.afAuth.auth.currentUser.uid + '/address').push(this.address)\r\n            .then(() => this.common.showToast(\"Añadido satisfactoriamente\"))\r\n            .catch((err) => this.common.showToast(\"Algo ocurrio mal\"));\r\n        }\r\n      })\r\n  }\r\n\r\n  update() {\r\n    this.address.pin = \"0102\";//se coloca por defecto el pincode 0102 y se deshabilita input en html\r\n    console.log(this.address.pin);\r\n    this.afdb.list('settings/pincodes', ref => ref.orderByKey().equalTo(this.address.pin))\r\n      .snapshotChanges().pipe(take(1)).subscribe((data) => {\r\n        console.log(data);\r\n        if (data.length == 0) {\r\n          this.common.showToast(\"Servicio no disponible en esta área\");\r\n        }\r\n        else {\r\n          this.afdb.object('users/' + this.afAuth.auth.currentUser.uid + '/address/' + this.key).update(this.address)\r\n            .then(() => this.common.showToast(\"Actualizado satisfactoriamente\"))\r\n            .catch((err) => this.common.showToast(\"Algo ocurrio mal\"));\r\n\r\n        }\r\n      })\r\n  }\r\n\r\n  delete() {\r\n    this.afdb.object('users/' + this.afAuth.auth.currentUser.uid + '/address/' + this.key).remove()\r\n      .then(() => this.common.showToast(\"Borrado satisfactoriamente\"))\r\n      .catch((err) => this.common.showToast(\"Algo ocurrio mal\"));\r\n  }\r\n\r\n\r\n  loadMap() {\r\n\r\n    let latLng = new google.maps.LatLng(this.lat, this.lng);\r\n\r\n    this.map = new google.maps.Map(document.getElementById('map'), {\r\n      zoom: 16,\r\n      center: latLng,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n      mapTypeControl: false,\r\n      fullscreenControl: false,\r\n      zoomControl: true,\r\n      streetViewControl: false,\r\n    });\r\n\r\n    this.marker = new google.maps.Marker({ map: this.map, position: latLng });\r\n    this.marker.setMap(this.map);\r\n\r\n    // get center's address\r\n    this.findPlace(latLng);\r\n\r\n    this.map.addListener('center_changed', (event) => {\r\n      let center = this.map.getCenter();\r\n      this.findPlace(center);\r\n    })\r\n  }\r\n\r\n\r\n  // find address by LatLng\r\n  findPlace(latLng) {\r\n    let geocoder = new google.maps.Geocoder();\r\n\r\n    this.marker.setMap(null);\r\n    this.marker = new google.maps.Marker({ map: this.map, position: latLng });\r\n    this.marker.setMap(this.map);\r\n\r\n    geocoder.geocode({ 'latLng': latLng }, (results, status) => {\r\n      if (status == google.maps.GeocoderStatus.OK) {\r\n        console.log(results);\r\n        this.address.address = results[0].formatted_address;\r\n\r\n        results[0].address_components.forEach(data => {\r\n          if (data.types[0] == \"postal_code\") {\r\n            this.address.pin = data.long_name;\r\n          }\r\n        })\r\n\r\n        this.address.lat = this.lat;\r\n        this.address.lng = this.lng;\r\n        console.log(this.address);\r\n        this.chRef.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}